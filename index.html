<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>Asteroid Tycoon: Sending Robots to their Deaths</title>
</head>
<body>

<script id="robot-buy-button-template" type="text/html">
    <span class='robot-container'>
        <span class='robot' data-robot='<%= name %>'>
            <img src='<%= spriteSheet %>'>
            <%= description %>
        </span>
        <span class='money'>
            <%= cost %>
        </span>
    </span>
</script>

<div id='game'>
    <div id='menu'>
        <div class='title-container'>
            <pre class='title'>
            .........             ___   _____________________  ____  ________     ________  ____________  ____  _   __
       _...MMMMM88&&&&..._       /   | / ___/_  __/ ____/ __ \/ __ \/  _/ __ \   /_  __/\ \/ / ____/ __ \/ __ \/ | / /
   '::....MMMMM88&&&&&&....::'  / /| | \__ \ / / / __/ / /_/ / / / // // / / /    / /    \  / /   / / / / / / /  |/ /
      `''''MMMMM88&&&&''''`    / ___ |___/ // / / /___/ _, _/ /_/ // // /_/ /    / /     / / /___/ /_/ / /_/ / /|  /
            'MMM8&&&'         /_/  |_/____//_/ /_____/_/ |_|\____/___/_____/    /_/     /_/\____/\____/\____/_/ |_/
            </pre>
        </div>
        <marquee behavior="alternate">
            <span class='money notification'>YOU HAVE <span class='amount'></span> SPACE DOLLARS</span>
            <span class='iron notification'>IRON REPORT! IRON LEVELS AT <span class='amount'></span> IRONS</span>
            <span class='alert'>PRODUCTION DECLINING, PICK UP SLACK OR FACE CORPORATE OVERSIGHT</span>
        </marquee>
        <div class='controls'>
            <div class='stats'>
                Dollars: <span class='money'></span><br>
                Irons: <span class='iron'></span>
            </div>
            <div class='robot-spawn'></div>
        </div>
    </div>
    <canvas id='mainCanvas' width=1000 height=1200></canvas>
</div>

<style>
.stats {
    background-color: #008000;
    width: 200px;
    font-size: 13px;
    border: 2px inset #83AF83;
    border-radius: 3px;
    padding: 7px;
    margin-right: 10px;
    display: inline-block;
    vertical-align: top;
}

body {
    font-family: 'Roboto', 'sans-serif';
    background-color: #000;
}

.controls {
    background-color: #C9C9C9;
    margin-top: -4px;
    padding: 10px 57px;
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
}

.notification {
    border: 4px outset #89B96E;
    background-color: #527E3A;
    padding: 5px;
    font-weight: 800;
    color: rgba(214, 214, 214, 0.7);
}

.notification.iron {
    border: 4px outset #9B842A;
    background-color: #9C7842;
}

.alert {
    border: 4px outset #994C7A;
    background-color: #7E3A63;
    padding: 5px;
    font-weight: 800;
    color: rgba(214, 214, 214, 0.7);
}

.title-container {
    background-color: #C9C9C9;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
    padding: 7px;
}

.title {
    border: 7px inset #FFF;
    background-color: #1B3B64;
    border-radius: 12px;
    color: #FFF;
    width: 850px;
    margin: 0 auto;
    font-size: 11px;
}

#game {
    width: 1000px;
    margin: 0 auto;
}

#menu {
    position: relative;
    font-weight: 200;
    width: 980px;
    height: 210px;
    padding: 10px;
    background-color: #060D22;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
}

.robot-spawn {
    display: inline-block;
    vertical-align: top;
    width: 560px;
}

#mainCanvas {
    background-color: #060D22;
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;
}

.robot-container {
    display: inline-block;
    cursor: pointer;
    width: 100px;
    opacity: .9;
    vertical-align: top;
}

.robot-container .money {
    width: 92px;
    display: inline-block;
    text-align: center;
    padding: 1px 0 3px;
    border: 4px outset #BDBDBD;
    border-radius: 10px;
    background-color: #8B8B8B;
}

.robot {
    display: inline-block;
    color: #FFF;
    text-align: center;
    padding: 1px 0 3px;
    border: 4px outset #BDBDBD;
    border-radius: 10px;
    background-color: #8B8B8B;
}

.robot-container:hover {
    opacity: 1;
}
</style>


<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<script src='lib/jquery.js'></script>
<script src='lib/underscore.js'></script>
<script src='lib/easeljs-0.7.1.min.js'></script>
<script src='lib/astar.js'></script>
<script src='robot_classes.js'></script>
<script src='definitions.js'></script>
<script src='game.js'></script>
<script src='state.js'></script>
<script src='robot.js'></script>

<script>
    $('.robot').click(function() {
        var $this = $(this);
        var robotType = $this.data('robot');
            
        var money = playerState.getResource('money');

        if (money > robots[robotType].cost) {
            spawnBot(robotType, Math.floor(spawn.shape.x/grid_size));
            playerState.changeResource('money', -robots[robotType].cost);
            console.log(playerState.getResource('money'));
        }
    });
</script>
</body>
</html>
